{
  "title": "1.3 Hive学习之HiveServer2服务端配置与启动",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; white-space: normal;\"><div>hive --service hiveserver2 &amp;</div><div>44904</div><table cellpadding=\"0\" cellspacing=\"0\" style=\"word-wrap: break-word; empty-cells: show; border-collapse: collapse; table-layout: fixed; color: rgb(68, 68, 68); font-family: Tahoma, &amp;apos;Microsoft Yahei&amp;apos;, Simsun; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);width:757px;\"><tr style=\"word-wrap: break-word;\"><td style=\"word-wrap: break-word; font-size: 14px;width:100%;\"><br style=\"word-wrap: break-word;\"/><strong style=\"word-wrap: break-word; font-weight: 700;\">问题导读</strong><br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><strong style=\"word-wrap: break-word; font-weight: 700;\"><font color=\"#FF0000\" style=\"word-wrap: break-word;\">1.hive允许远程客户端使用哪些编程语言？</font></strong><br style=\"word-wrap: break-word;\"/><strong style=\"word-wrap: break-word; font-weight: 700;\"><font color=\"#FF0000\" style=\"word-wrap: break-word;\">2.已经存在HiveServer为什么还需要HiveServer2？</font></strong><br style=\"word-wrap: break-word;\"/><strong style=\"word-wrap: break-word; font-weight: 700;\"><font color=\"#FF0000\" style=\"word-wrap: break-word;\">3.HiveServer2有哪些优点？</font></strong><br style=\"word-wrap: break-word;\"/><strong style=\"word-wrap: break-word; font-weight: 700;\"><font color=\"#FF0000\" style=\"word-wrap: break-word;\">4.hive.server2.thrift.min.worker.threads-最小工作线程数，默认为多少？</font></strong><br style=\"word-wrap: break-word;\"/><strong style=\"word-wrap: break-word; font-weight: 700;\"><font color=\"#FF0000\" style=\"word-wrap: break-word;\">5.启动Hiveserver2有哪两种方式？</font></strong><div><br style=\"word-wrap: break-word;\"/></div><br style=\"word-wrap: break-word;\"/>\n在之前的学习和实践Hive中，使用的都是CLI或者hive –e的方式，该方式仅允许使用<font color=\"#FF0000\" style=\"word-wrap: break-word;\">HiveQL</font>执行查询、更新等操作，并且该方式比较笨拙单一。幸好Hive提供了轻客户端的实现，通过HiveServer或者HiveServer2，客户端可以在不启动CLI的情况下对Hive中的数据进行操作，两者都允许远程客户端使用多种编程语言如Java、Python向Hive提交请求，取回结果。HiveServer或者HiveServer2都是基于Thrift的，但HiveSever有时被称为Thrift server，而HiveServer2却不会。既然已经存在HiveServer为什么还需要HiveServer2呢？这是因为HiveServer不能处理多于一个客户端的并发请求，这是由于HiveServer使用的Thrift接口所导致的限制，不能通过修改HiveServer的代码修正。因此在Hive-0.11.0版本中重写了HiveServer代码得到了HiveServer2，进而解决了该问题。HiveServer2支持多客户端的并发和认证，为开放API客户端如JDBC、ODBC提供了更好的支持。<br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/>\n&nbsp; &nbsp;&nbsp; &nbsp; 既然HiveServer2提供了更强大的功能，将会对其进行着重学习，但也会简单了解一下HiveServer的使用方法。在命令中输入hive --service help，结果如下。从结果可以了解到，可以使用hive &lt;parameters&gt; --service serviceName &lt;serviceparameters&gt;启动特定的服务，如cli、hiverserver、hiveserver2等。<br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">[hadoop@hadoop~]$ hive --service&nbsp;&nbsp;help<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Usage ./hive&lt;parameters&gt; --service serviceName &lt;service parameters&gt;<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Service List: beelinecli help hiveserver2 hiveserver hwi jar lineage metastore metatool orcfiledumprcfilecat schemaTool version<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Parametersparsed:<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp;&nbsp;--auxpath : Auxillary jars<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp;&nbsp;--config : Hive configuration directory<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp;&nbsp;--service : Starts specificservice/component. cli is default<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Parameters used:<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp;&nbsp;HADOOP_HOME or HADOOP_PREFIX : Hadoop installdirectory<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp;&nbsp;HIVE_OPT : Hive options<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">For help on aparticular service:<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp;&nbsp;./hive --service serviceName --help<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Debug help:&nbsp;&nbsp;./hive --debug --help</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div>\n在命令行输入hive --service hiveserver –help查看hiveserver的帮助信息：<br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">[hadoop@hadoop~]$ hive --service hiveserver --help<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Starting Hive Thrift Server<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">usage:hiveserver<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">-h,--help&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Print help information<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp; &nbsp; --hiveconf &lt;property=value&gt;&nbsp; &nbsp;Use value for given property<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp; &nbsp; --maxWorkerThreads &lt;arg&gt;&nbsp; &nbsp;&nbsp; &nbsp;maximum number of worker threads,<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;default:2147483647<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp; &nbsp; --minWorkerThreads &lt;arg&gt;&nbsp; &nbsp;&nbsp; &nbsp;minimum number of worker threads,<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; default:100<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">-p &lt;port&gt;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Hive Server portnumber, default:10000<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">-v,--verbose&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Verbose mode</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div><br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/>\n启动hiveserver服务，可以得知默认hiveserver运行在端口10000，最小100工作线程，最大2147483647工作线程。<br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">[hadoop@hadoop~]$ hive --service hiveserver -v<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Starting Hive Thrift Server<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">14/08/01 11:07:09WARN conf.HiveConf: DEPRECATED: hive.metastore.ds.retry.* no longer has anyeffect.&nbsp;&nbsp;Use hive.hmshandler.retry.*instead<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Starting hive serveron port 10000 with 100 min worker threads and 2147483647 maxworker threads</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div>\n接下来学习更强大的hiveserver2。Hiveserver2允许在配置文件hive-site.xml中进行配置管理，具体的参数为：<br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.min.worker.threads– 最小工作线程数，默认为5。</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.max.worker.threads – 最小工作线程数，默认为500。<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.port– TCP 的监听端口，默认为10000。<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.bind.host– TCP绑定的主机，默认为localhost。</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div>\n也可以设置环境变量HIVE_SERVER2_THRIFT_BIND_HOST和HIVE_SERVER2_THRIFT_PORT覆盖hive-site.xml设置的主机和端口号。从Hive-0.13.0开始，HiveServer2支持通过HTTP传输消息，该特性当客户端和服务器之间存在代理中介时特别有用。与HTTP传输相关的参数如下：<br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.transport.mode – 默认值为binary（TCP），可选值HTTP。<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.http.port– HTTP的监听端口，默认值为10001。</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.http.path – 服务的端点名称，默认为 cliservice。<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.http.min.worker.threads– 服务池中的最小工作线程，默认为5。<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">hive.server2.thrift.http.max.worker.threads– 服务池中的最小工作线程，默认为500。</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div><br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/>\n&nbsp;&nbsp;启动Hiveserver2有两种方式，一种是上面已经介绍过的hive --service hiveserver2，另一种更为简洁，为hiveserver2。使用hive--service hiveserver2 –H或hive--service hiveserver2 –help查看帮助信息：<br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Starting HiveServer2<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">Unrecognizedoption: -h<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">usage:hiveserver2<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">-H,--help&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Print help information<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">&nbsp; &nbsp; --hiveconf &lt;property=value&gt;&nbsp; &nbsp;Use value for given property</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div>\n默认情况下，HiveServer2以提交查询的用户执行查询（true），如果hive.server2.enable.doAs设置为false，查询将以运行hiveserver2进程的用户运行。为了防止非加密模式下的内存泄露，可以通过设置下面的参数为true禁用文件系统的缓存：<br style=\"word-wrap: break-word;\"/><div style=\"word-wrap: break-word; overflow: hidden; margin: 10px 0px; padding: 10px 0px 5px 10px; color: rgb(102, 102, 102); zoom: 1; border: 1px solid rgb(204, 204, 204); background: url(&amp;quot;http://www.aboutyun.com/static/image/common/codebg.gif&amp;quot;) 0px 0px repeat-y rgb(247, 247, 247);\"><div style=\"word-wrap: break-word;\"><ol style=\"word-wrap: break-word; margin: 0px 0px 0px 10px !important; padding: 0px !important;\"><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">fs.hdfs.impl.disable.cache – 禁用HDFS文件系统缓存，默认值为false。<br style=\"word-wrap: break-word;\"/></li><li style=\"word-wrap: break-word; margin: 0px 0px 0px 2em; padding: 0px 0px 0px 10px; list-style-type: decimal-leading-zero; font-family: Monaco, Consolas, &amp;apos;Lucida Console&amp;apos;, &amp;apos;Courier New&amp;apos;, serif; font-size: 12px;\">fs.file.impl.disable.cache – 禁用本地文件系统缓存，默认值为false。</li></ol></div><em style=\"word-wrap: break-word; font-style: normal; color: rgb(51, 102, 153) !important; margin-left: 43px; font-size: 12px; cursor: pointer;\">复制代码</em></div><br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/><br style=\"word-wrap: break-word;\"/></td></tr></table></div>"
    }
  ]
}